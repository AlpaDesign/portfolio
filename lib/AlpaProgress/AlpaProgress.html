<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AlpaProgress Program</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="./js/AlpaProgress.js"></script>
  <style>
    :root{
      --ap-accent: #4f46e5; /* 인디고 */
      --ap-bg: #f8fafc;
      --ap-card: #ffffff;
      --ap-text: #0f172a;
      --ap-subtext:#475569;
      --ap-border:#e2e8f0;
      --ap-radius: 16px;
      --ap-shadow: 0 6px 18px rgba(15,23,42,.08);
    }
    body, h1, h2, h3, h4, h5, h6, p, ul, ol {
      margin: 0;
      padding: 0;
    }
    ul, ol {
      list-style: none;
    }
    a {
      text-decoration: none;
      color: #000;
    }
    img {
      vertical-align: top;
      border: 0;
    }
    body{
      margin:0;
      background: var(--ap-bg);
      color: var(--ap-text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    .alpa-wrap{
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 16px;
    }

    .alpa-header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom: 18px;
    }
    .alpa-title{
      font-weight: 800; letter-spacing:-0.3px; font-size: 24px;
    }
    .alpa-controls{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .alpa-select, .alpa-toggle{
      border:1px solid var(--ap-border);
      background:#fff; border-radius:10px; padding:8px 12px; font-size:14px;
      cursor:pointer;
    }
    .alpa-toggle input{ margin-right:6px; }

    /* 카드 레이아웃 */
    .alpa-grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap:16px;
    }
    .alpa-card{
      background: var(--ap-card);
      border:1px solid var(--ap-border);
      border-radius: var(--ap-radius);
      box-shadow: var(--ap-shadow);
      padding:16px;
      display:flex; flex-direction:column; gap:12px;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .alpa-card:hover{ transform: translateY(-2px); box-shadow: 0 10px 24px rgba(15,23,42,.12); }

    .alpa-head{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
    }
    .alpa-name{ font-weight:700; font-size:16px; }
    .alpa-pct-label{
      font-variant-numeric: tabular-nums;
      color: var(--ap-subtext);
      font-weight:700;
    }

    /* 막대형 */
    .ap-bar{
      width:100%; height:12px; background:#f1f5f9;
      border-radius:999px; position:relative; overflow:hidden;
      border:1px solid var(--ap-border);
    }
    .ap-bar > .ap-fill{
      position:absolute; inset:0 auto 0 0;
      width:0%;
      background: linear-gradient(90deg, var(--ap-accent), #22c55e);
      transition: width 1200ms cubic-bezier(.22,1,.36,1);
    }
    .ap-bar[data-animate="on"] > .ap-fill{ /* Intersection observer로 토글 */
      width: var(--ap-target, 0%);
    }

    /* 원형형 */
    .ap-circle{
      width:112px; height:112px; margin:4px 0;
      align-self:center; position:relative;
    }
    .ap-circle svg{ width:100%; height:100%; display:block; }
    .ap-circle .ap-bg{
      stroke:#e5e7eb; stroke-width:10; fill:none;
    }
    .ap-circle .ap-ring{
      stroke:var(--ap-accent); stroke-width:10; fill:none;
      stroke-linecap:round;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
      stroke-dasharray: 0 999; /* 초기 0 */
      transition: stroke-dasharray 1200ms cubic-bezier(.22,1,.36,1);
    }
    .ap-circle[data-animate="on"] .ap-ring{
      /* JS에서 dasharray를 세팅 */
    }
    .ap-circle .ap-center{
      position:absolute; inset:0; display:grid; place-items:center;
      font-weight:800; font-size:18px;
    }

    /* 내용 리스트 */
    details.ap-details{
      background:#f8fafc; border:1px solid var(--ap-border);
      border-radius:12px; overflow:hidden;
    }
    details.ap-details > summary{
      padding:10px 12px; cursor:pointer; list-style:none; outline:none;
      user-select:none; font-weight:700; color:#0f172a;
    }
    details.ap-details[open] > summary{ border-bottom:1px solid var(--ap-border); }
    .ap-contents{ padding:10px 14px; }
    .ap-contents li{ color: var(--ap-subtext); margin:6px 0; line-height:1.35; }

    /* 뱃지 */
    .ap-badge{
      display:inline-block; padding:2px 8px; border-radius:999px;
      background:#eef2ff; color:#3730a3; font-size:12px; font-weight:700;
      border:1px solid #c7d2fe;
    }

    .alpa-card{
      cursor: pointer;
    }
    @media (max-width:580px){

      .alpa-wrap{
        margin-top: 0;
        padding:50px 15px;
        padding-top:13px;
      }
      .alpa-controls, .ap-details{
        display: none;
      }
    }
    /* 작은 화면 보정 */
    @media (max-width:480px){
      .alpa-title{ font-size:20px; }
    }
  </style>
</head>
<body>
  <div class="alpa-wrap" id="progressDiv">
    <div class="alpa-header">
      <div class="alpa-title">기술 스킬</div>
      <div class="alpa-controls">
        <label class="alpa-toggle" title="내용 접기/펼치기">
          <input type="checkbox" id="toggleContents" checked />
          내용 표시
        </label>
        <select id="typeSelect" class="alpa-select" title="표시 타입">
          <option value="bar">막대형 (bar)</option>
          <option value="circle">원형 (circle)</option>
          <option value="mixed">혼합 (mixed)</option>
        </select>
      </div>
    </div>

    <div id="progressRoot" class="alpa-grid" aria-live="polite"></div>
  </div>

  <script>
    // 주어진 데이터 (질문에 제공된 것 그대로). 빈 항목(쉼표로 생긴 구멍)은 코드에서 걸러냅니다.
    var list = [
      { title: "HTML",
        Contents: [
          "HTML5 DTD 문법 준수",
          "웹 접근성을 높인 Semantic Page 작성",
          "IR 기법을 이용한 스타일 작성",
          "반응형 웹 페이지 스타일 작성)",
          "모바일 페이지 스타일 작성"
        ],
        Percent : 99
      },
      { title: "CSS",
        Contents: [
          "HTML5 DTD 문법 준수",
          "웹 접근성을 높인 Semantic Page 작성",
          "IR 기법을 이용한 스타일 작성", ,
          "화려한 CSS3 Animation 구현",
          "반응형 웹 페이지 스타일 작성",
          "모바일 페이지 스타일 작성",
          "CSS 전처리 기능 프로그래밍(SASS)"
        ],
        Percent: 80
      },
      { title: "JS",
        Contents: [
          "React 및 TypeScript 사용가능",
          "Next js 를 이용한 프로젝트 활용 가능",
          "JavaScript 플러그인 활용 및 구현(jQuery)",
          "Parallax 웹 페이지 구현",
          "외부 API 구현(Google Map, Carousel)",
          "EcmaScript 6.0 기반 Native JavaScript 활용",
          "JAX를 이용한 데이터 응용",
          "모바일 페이지 스타일 작성",
        ],
        Percent: 90
      },
      { title: "React",
        Contents: [
          "React 및 TypeScript 사용가능",
          "Next js 를 이용한 프로젝트 활용 가능",
          "JavaScript 플러그인 활용 및 구현(jQuery)",
          "Parallax 웹 페이지 구현",
          "외부 API 구현(Google Map, Carousel)",
          "EcmaScript 6.0 기반 Native JavaScript 활용",
          "JAX를 이용한 데이터 응용",
          "모바일 페이지 스타일 작성",
        ],
        Percent: 80
      },
      { title: "JSP",
        Contents: [
          "Scriptlet(스크립트릿)을 이용한 java sever page 활용",
          "jsp로만 활용한 페이지 구성(MVC model1)",
          "Expression(표현식)을 활용하여 HTML 표시",
        ],
        Percent: 60
      },
      { title: "JAVA",
        Contents: [
          "JAVA 언어를 활용한 기본 응용소프트웨어 구현 능력 함양",
          "JAVA의 알고리즘 활용",
          "스프링 프레임워크, 이클립스, 아파치 개발 도구 활용",
          "SQL, 오라클을 기반으로 한 서버 구축 및 데이터 입출력 체크",
          "DataBase 기반으로 게시판 제작"
        ],
        Percent: 70
      },
      { title: "PHP",
        Contents: [
          "php 언어를 활용한 기본 응용소프트웨어 구현 능력 함양",
          "php로 간단한 쇼핑몰 제작가능",
          "아파치 서버 활용"
        ],
        Percent: 80
      },
      { title: "Oracle",
        Contents: [
          "DataBase 서버 구현과 API를 기반으로 하는 프로그램 개발 및 데이터 개발",
          "SQL, 오라클을 기반으로 한 서버 구축 및 데이터 입출력 체크",
          "DataBase 기반으로 정규화된 프로젝트 설계 가능",
          "DataBase 개념적 물리적 논리적설계 가능"
        ],
        Percent: 60
      },
      { title: "MYSQL",
        Contents: [
          "DataBase 서버 구현과 API를 기반으로 하는 프로그램 개발 및 데이터 개발",
          "SQL, 오라클을 기반으로 한 서버 구축 및 데이터 입출력 체크",
          "DataBase 기반으로 정규화된 프로젝트 설계 가능",
          "DataBase 개념적 물리적 논리적설계 가능"
        ],
        Percent: 70
      },
      { title: "Spring",
        Contents: [
          "Spring Boot를 활용",
          "MVC mode2를 활용한 페이지 구성",
          "JAVA 언어를 활용한 기본 응용소프트웨어 구현 능력 함양",
          "JAVA의 알고리즘 활용",
          "스프링 프레임워크, 이클립스, 아파치 개발 도구 활용",
          "SQL, 오라클을 기반으로 한 서버 구축 및 데이터 입출력 체크",
          "DataBase 기반으로 게시판 제작"
        ],
        Percent: 80
      },
      { title: "C#",
        Contents: [
          "WPF로 window 프로그램 제작 가능",
          ".NET FrameWork WindowsForm을 활용한 프로그램 제작 가능",
          "아두이노 코드 설계 프로그램 제작",
          "윈도우 스케줄러 관리 프로그램 제작",
          "그외 다수 라이브러리 패키지 제작"
        ],
        Percent: 80
      },
      { title: "C++",
        Contents: [
          "MFC 프로젝트 활용 가능",
          "POS 단말 프로그램 제작"
        ],
        Percent: 40
      },
      { title: "Python",
        Contents: [
          "간단한 스크립트 작성하여 빌드가능",
          "파이썬을 활용한 통신 프로그램 제작"
        ],
        Percent: 50
      },
    ];

    document.getElementById("progressDiv").addEventListener("click", () => {
      // 부모(index.html)에게 메시지 전달
      window.parent.postMessage("Progress Div Clicked!", "*");
    });

    // ===== 데모 초기화 =====
    const ap = new AlpaProgress('#progressRoot', list, {
      type: 'bar',           // 'bar' | 'circle' | 'mixed'
      showContents: true,
      // accent: '#16a34a',  // 원하면 포인트 컬러 지정
    });

    // UI 연동
    const typeSelect = document.getElementById('typeSelect');
    const toggleContents = document.getElementById('toggleContents');

    typeSelect.addEventListener('change', (e)=> ap.setType(e.target.value));
    toggleContents.addEventListener('change', (e)=> ap.showContents(e.target.checked));
  </script>
</body>
</html>
